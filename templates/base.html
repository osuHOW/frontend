{{ define "base" }}
{{ $cf := .ClientFlags }}
{{ $ds := band $cf 1 }}
{{ $   := . }}
{{ if and .Context.User.Username (not (has .Context.User.Privileges 1)) }}
					<div class="restricted" style="
background: repeating-linear-gradient( -45deg, #FF3D3D, #FF3D3D 10px, #FF0000 10px, #FF0000 20px);
text-align: center;
color: white;
padding: 8px;
">
						<h1 style="margin-top: 0px; color: white;">Your account is currently <b>held for review</b>!</h1>
						<div>
        					You will temporarily not be able to interact with other users and your profile will only be visible to you. <strong>This is likely the result of an automated process and will resolve itself within 24 hours.</strong> If you wish to appeal your restriction, please <a href="https://discord.gg/pj8NH2Cjg6" style="color:white; font-weight: bold;">contact an admin in the discord</a>.
						</div>
					</div>
					{{ end }}
<!DOCTYPE html>
<script>
function recalcRestrictedBannerHeight() {
    if (document.getElementsByClassName("restricted").length > 0) {
        var navheight = document.getElementsByClassName("restricted")[0].clientHeight.toString();
        var body = document.body;
        body.setAttribute("style", "--restricted-header: " + navheight + "px;");
    }
}
//recalcRestrictedBannerHeight();
//window.onresize = recalcRestrictedBannerHeight;
</script>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<title>{{ if .TitleBar }}{{ .T .TitleBar }} - {{ end }}osuHOW</title>

		<link rel="stylesheet" type="text/css" href="/static/{{ if $ds }}dark/{{ end }}semantic.min.css?{{ unixNano }}">
		<link rel="stylesheet" type="text/css" href="/static/ripple.css?{{ unixNano }}">

		<link rel="stylesheet" type="text/css" href="/static/snow/snow.css?{{ unixNano }}">
		<link rel="stylesheet" href="/static/css/uniformityrightlads.css">
		<!--LOADING BARZZZ-->
		<script src="/static/js/pace.min.js"></script>
		<link href="/static/css/loadingbar.css" rel="stylesheet" />
		
		<meta name="theme-color" content="#eb4034">
		<meta name="msapplication-navbutton-color" content="#eb4034">
		<meta name="apple-mobile-web-app-status-bar-style" content="#eb4034">
	</head>
	<body {{ if $ds }} class="ds"{{ end }}>
		{{/*
			If we're asked to disable the hugeheading, but a KyutGrill is set, it will become the background of the page.
			This is mainly used in user profiles, allowing users to set their profile background.
			If we're asked to disable the hugeheading, and a KyutGrill is not set, navbar has the `dropped` class.
		*/}}
		<div class="ui full height main wrapper"
			{{ if .KyutGrill }}
				style="background-image: url('{{ if .KyutGrillAbsolute }}{{ .KyutGrill }}{{ else }}/static/headers/{{ .KyutGrill }}{{ end }}');"
			{{ else if .SolidColour }}
				style="background-color: {{ .SolidColour }}"
			{{ end }}>
			{{ template "navbar" . }}
			{{/*
				<div class="huge heading {{ if .HeadingOnRight }}right{{ end }} dropped nodisplaymobile"
					style="background-image: url('{{ if .KyutGrillAbsolute }}{{ .KyutGrill }}{{ else }}/static/headers/{{ or .KyutGrill "default.jpg" }}{{ end }}');">
					<div id="snow-container">
						<div>
							<div class="snow large"></div>
							<div class="snow large delayed"></div>
							
							<div class="snow medium"></div>
							<div class="snow medium delayed"></div>
							
							<div class="snow small"></div>
							<div class="snow small delayed"></div>
						</div>
					</div>
					<div class="ui container fuckshittext">
						<h1>{{ if .HeadingTitle }}{{ .T .HeadingTitle | html }}{{ else }}{{ .T .TitleBar }}{{ end }}</h1>
					</div>
				</div>
			*/}}
			

			<div class="h-container">
				<div class="ui margined container" id="messages-container">
				<noscript>Research has proven this website works 10000% better if you have JavaScript enabled.</noscript>
				{{ if .Messages }}
						{{ range $i, $v := .Messages }}
							<div class="ui {{ $v.Type }} message">
								<i class="close icon"></i>
								{{ html $v.Content }}
							</div>
						{{ end }}
				{{ end }}
				{{ $settings := systemSettings "website_maintenance" "game_maintenance" "website_global_alert" }}
				{{ with $settings.website_global_alert.String }}
					<div class="ui warning message">
						{{ . | html }}
					</div>
				{{ end }}
				{{ with $settings.game_maintenance.Int }}
					<div class="ui warning message">
						{{ $.T "osuHOW's score submission is currently in maintenance mode. You will not be allowed to submit scores for the time being." }}
					</div>
				{{ end }}
				{{ with $settings.website_maintenance.Int }}
					<div class="ui warning message">
						{{ $.T "The osuHOW website is currently in maintenance mode. Only certain users are allowed to access the full website." }}
					</div>
				{{ end }}
				</div>
				<div class="main-container-topper">
					<div style="/*! margin: 2em; */margin-left: 2em;align-content: center;display: flex;">
						<span style="text-color: rgba(255,255,255,.93);color: rgba(255,255,255,.93);font-size: 1rem;">{{ if .TitleBar }}{{ .T .TitleBar }}{{ end }}</span>
					</div>
				</div>
				<div class="ui container main-container">
					{{ template "tpl" . }}
				</div>
			</div>

		</div>
		<div class="footer dark">
			<div class="ui container">
				<div class="ui internally celled grid footercontainer">
					<div class="row footer-row">
						{{/* rosu stop copying gatari */}}
						<div class="footer-logo">
							<img src="/static/logos/logo.svg" style="width: 110px; margin-bottom:5px;" alt="osuHOW">
					<div class="ui scrolling dropdown" style="text-align:center;" id="language-selector">
					{{ $lang := .Context.Language }}
					{{ with $lang }}
					{{ $info := languageInformationByNameShort . }}
					<span class="text" style="width: 200%;">
						<img class="new-flag fixed--flag--margin" style="margin-bottom: 0.2em !important" src="https://twemoji.maxcdn.com/v/latest/svg/{{ countryCodepoints $info.CountryShort }}.svg"></img>{{ countryReadable $info.CountryShort }}
					</span>
					{{ else }}
					<span class="default text">{{ .T "Language" }}</span>
					{{ end }}
					<i class="fa-solid fa-caret-down"></i>
					<div class="menu">
					
					{{ range languageInformation }}
					
						<div class="language-select {{ if eq .NameShort $lang }}selected {{ end }}item" data-lang="{{ .NameShort }}">{{ country .CountryShort false }}{{ .Name }}</div>
					{{ end }}
						</div>

					</div>

						</div>
						<div class="footer-items">
						<div class="three wide column" style="width: auto!important;">
							<div class="footer-info-block">
								<a class="footer-title">Docs</a> 
								<ul style="list-style-type: none; padding: 0; margin: 0;">
									<li>
										<i><a href="/doc/connection_guide">Connection guide</a></i>
										<br>
										<i><a href="/doc/faq">FAQ</a></i>
										<br>
										<i><a href="/doc/rules">Rules</a></i>


									</li>
								</ul>
							</div> 
						</div>
						<div class="three wide column" style="width: auto!important;">
							<div class="footer-info-block">
								<a class="footer-title">Chat</a>
								<ul style="list-style-type: none; padding: 0; margin: 0;">
									<li>
										<i><a href="https://discord.gg/5pEXYcw2yd" target="_blank">Discord</a></i>
									</li>
								</ul>
							</div>
						</div>
						<div class="three wide column" style="width: auto!important;">
							<div class="footer-info-block">
								<a class="footer-title">Dev</a>
								<ul style="list-style-type: none; padding: 0; margin: 0;">
									<li>
										<i><a href="https://github.com/osuHOW" target="_blank">GitHub</a></i>
										<br>
										<i><a href="/team" target="_blank">Team</a></i>
									</li>
								</ul>
							</div>
						</div>
					</div>

				</div>

			</div>		<script>
			var hanayoConf = {
				avatars:   {{ .Conf.AvatarURL }},
				banchoAPI: {{ .Conf.BanchoAPIPublic }},
				baseAPI:   {{ .Conf.BaseAPIPublic }},
				cheesegullAPI: {{ .Conf.CheesegullAPI }},
				language:  "en",
			};
			var currentUserID = {{ .Context.User.ID }};
		</script>
		{{/* If we got some more scripts to print, print'em */}}
		<script src="//twemoji.maxcdn.com/2/twemoji.min.js?2.2"></script>
		<script src="/static/dist.min.js?{{ unixNano }}"></script>
		<script src="/static/timeago-locale/jquery.timeago.en.js"></script>
		{{ if .Scripts }}
			{{ range .Scripts }}
				<script src="{{ . }}?{{ unixNano }}"></script>
			{{ end }}
		{{ end }}
	</body>
</html>
{{ end }}


